# Maintainer:  Eric Biggers <ebiggers3 at gmail dot com>


# Note: this software is difficult to install.

pkgname=mummer
_pkgver=4.0.0rc1
pkgver=4.0.0
pkgrel=1
pkgdesc="MUMmer is a program for rapidly aligning large genomes"
arch=('i686' 'x86_64')
url="http://mummer.sourceforge.net"
license=('PerlArtistic')
depends=('perl' 'gnuplot')
makedepends=('autoconf' 'yaggo') #'python' 'ruby' 'swig'
replaces=(mummer64)
source=("${pkgname}-${pkgver}.tar.gz::https://github.com/mummer4/mummer/archive/refs/tags/v${pkgver}.tar.gz")

build() {
  cd ${pkgname}-${pkgver}
  autoupdate -f
  autoreconf -fi
  export CXXFLAGS="-Wno-error"
  ./configure --prefix=/usr/ --program-prefix=${pkgname}- \
    --libexecdir=/usr/lib/
#   --enable-all-binding
  make
}

package() {
  cd ${pkgname}-${pkgver}
  make DESTDIR=${pkgdir} install
  mv ${pkgdir}/usr/include/${pkgname}-${pkgver}/include/* ${pkgdir}/usr/include
  rm -rf ${pkgdir}/usr/include/${pkgname}-${pkgver}
}
sha512sums=('c0d86bb5a69dc44438151f14f9bfef95e2dda1baf2af9bb0509d2d1c1e1fbcf702936d0b45d245de726a855cbc84299b140da6a2fbdfa5d8f921b80c1fd0b9eb')
