# Maintainer: Guoyi Zhang <guoyizhang at malacology dot net>
# Contributor: Viktor Drobot (aka dviktor) linux776 [at] gmail [dot] com
# Contributor: Alex Branham <branham@utexas.edu>

_pkgname=prodlim
_pkgver=2024.06.25
pkgname=r-${_pkgname,,}
pkgver=2024.06.25
pkgrel=2
pkgdesc='Product-Limit Estimation for Censored Event History Analysis'
arch=('x86_64')
url="https://cran.r-project.org/package=${_pkgname}"
license=('GPL-2.0-or-later')
depends=(
  r-data.table
  r-diagram
  r-lava
  r-rcpp
  r-rlang
  r-ggplot2
)
source=("https://cran.r-project.org/src/contrib/${_pkgname}_${_pkgver}.tar.gz")
md5sums=('cf4cc7858664ad00a4e227aa544b6f0e')
b2sums=('0150c51a7a2fa96e506d06b82fa92b9b5dd14ad904663dced0a60b799402dbab2c32191465036910bdda2b98ecb748fb5421ca4e3eaec3ca8ef97647ab9a5651')

build() {
  mkdir build
  R CMD INSTALL -l build "$_pkgname"
}

package() {
  install -d "$pkgdir/usr/lib/R/library"
  cp -a --no-preserve=ownership "build/$_pkgname" "$pkgdir/usr/lib/R/library"
}
