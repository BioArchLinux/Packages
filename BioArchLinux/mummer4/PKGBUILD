# Maintainer:  Mick Elliot <m.g.elliot@rug.nl>
# Contributor: Mick Elliot <m.g.elliot@rug.nl>

pkgname=mummer4
pkgver=4.0.0rc1
pkgrel=1
pkgdesc="A fast and versatile genome alignment system. https://doi.org/10.1371/journal.pcbi.1005944"
arch=('x86_64')
url="https://mummer4.github.io/"
license=('PerlArtistic')
depends=(gcc-libs)
makedepends=(sh perl)
provides=()
source=("https://github.com/${pkgname}/mummer/releases/download/v${pkgver}/mummer-${pkgver}.tar.gz")
sha256sums=('85006adb2d6539c2f738c3e3bb14b58bb6f62cd6c6ca5ede884a87ae76e07d1d')

build() {
  cd "mummer-${pkgver}"
  ./configure --prefix=/usr
  make
}

# check seems to fail due to an apparent bug in test_md5
# see also https://github.com/mummer4/mummer/issues/147

# check() {
#   cd "mummer-${pkgver}"
#   make check
# }

package() {
  cd "mummer-${pkgver}"
  make DESTDIR="$pkgdir/" install
}

