# Maintainer: Shi Liang <shiliang2008@msn.com>

pkgname=graphite-gtk-theme
_reponame='Graphite-gtk-theme'
pkgver=2024.07.14
pkgrel=1
pkgdesc='Graphite gtk theme'
arch=("any")
provides=("graphite-gtk-theme")
conflicts=("graphite-gtk-theme")
url="https://github.com/vinceliuice/${_reponame}"
license=("GPL-2.0-only")
depends=("gnome-themes-extra")
optdepends=("gtk-engine-murrine")
makedepends=("git" "sassc")
_cmt=e2e8d0b51d3f4fc073d8f32ff4d9988d28176d0f
source=("git+${url}.git#commit=$_cmt")
sha256sums=('SKIP')
options=(!strip)

pkgver(){
    cd "${srcdir}/${_reponame}"
    printf $(TZ=UTC git log --no-walk --pretty="%cd" --decorate=full --date=format-local:%Y.%m.%d | head -n 1)
}

package() {
    dist="${pkgdir}/usr/share/themes"
    mkdir -p "${dist}"
    cd "${srcdir}/${_reponame}"
    ./install.sh -t all -d "${dist}"
    ./install.sh -t all -d "${dist}" -s compact
}
