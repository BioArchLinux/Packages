# Maintainer:  Eric Biggers <ebiggers3 at gmail dot com>
# Import from AUR: bipin kumar <bipin@ccmb.res.in>

pkgname=jellyfish
pkgver=2.3.0
pkgrel=2
pkgdesc="A fast multi-threaded k-mer counter. https://doi.org/10.1093/bioinformatics/btr011"

# Note: according to the README, "Support for 32-bits platform has not been
# tested."
arch=("x86_64")
url="http://www.genome.umd.edu/jellyfish.html"
license=("GPL3")
depends=(
        'python'
        'htslib'
        )
makedepends=(
        'perl'
        'python'
        'python-setuptools'
        'htslib'
        'samtools'
        'yaggo')

source=("https://github.com/gmarcais/Jellyfish/archive/refs/tags/v${pkgver}.tar.gz")
sha256sums=('23819da9edb579a0cfb8baac9eff473a9477f4f749930cdb754dce1d117495cd')

build() {
    cd "${pkgname}-${pkgver}"
    ./configure --prefix=/usr --enable-htslib --enable-python-binding --enable-perl-binding
    make
}

package() {
    cd "${pkgname}-${pkgver}"
    make DESTDIR=${pkgdir} install
}
