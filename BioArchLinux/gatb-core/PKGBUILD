# guoyi

pkgname=gatb-core
pkgver=1.4.2
pkgrel=2
pkgdesc="Core library of the Genome Analysis Toolbox with de-Bruijn graph"
arch=('any')
url="https://github.com/GATB/gatb-core"
license=('AGPL')

depends=()
makedepends=('gcc' 'make' 'cmake')
optdepends=()

source=(https://github.com/GATB/gatb-core/archive/refs/tags/v${pkgver}.tar.gz)
sha256sums=('824c84a3712973746b977a9d49923fd499021a894225231100eaad1a66e9742d')
prepare() {
  cd "$pkgname-$pkgver"/$pkgname
  mkdir -p build
}
build() {
  cd "$pkgname-$pkgver"/$pkgname
  cd build
  cmake ..
  make -j 4
}

package() {
  cd "$pkgname-$pkgver"/$pkgname
  cd build
  install -dm755 "$pkgdir"/usr/{bin,lib,include}
  mv bin/* $pkgdir/usr/bin/
  mv lib/* $pkgdir/usr/lib/
  mv include/* $pkgdir/usr/include
}
