#  Maintainer: kiri <kiri@vern.cc>
#Previous maintainer: wangzhichao <wangzhichao1990@126.com>
pkgname=tbtools
pkgver=1.113
pkgrel=1
pkgdesc='GUI/CommandLine Tool Box for biologistists to utilize NGS data. https://doi.org/10.1016/j.molp.2020.06.009'
arch=('x86_64')
url='https://github.com/CJ-Chen/TBtools'
license=('custom')
depends=('java-runtime' 'bash')
source=("$pkgname-$pkgver.zip::https://github.com/CJ-Chen/TBtools/archive/refs/tags/$pkgver.zip"
        "$pkgname.desktop"
        "$pkgname.sh")
sha256sums=('ada79591eefbe55da6999dda51b73bb9b60027b1afaf27df5d43592ae6f5a95e'
            'def05ccbd4a3ea9b8937444803ae7a9f33a158e7da74129a34ddec5af599e065'
            '04367e92b51a3717a38c76f07892282458ed9aaa7c3f47ca47ef62de1c30c90f')

package() {
    mkdir -p $pkgdir/usr/share/$pkgname
    unzip $srcdir/TBtools-${pkgver}/TBtools_JRE1.6.jar
    install -Dm 755 $srcdir/$pkgname.sh $pkgdir/usr/bin/$pkgname
    install -Dm 644 $srcdir/$pkgname.desktop $pkgdir/usr/share/applications/$pkgname.desktop
    install -Dm 755 $srcdir/TBtools-$pkgver/TBtools*.jar $pkgdir/usr/share/$pkgname/$pkgname.jar
    install -Dm 644 $srcdir/Icons/TBtoolsLogo.png $pkgdir/usr/share/icons/hicolor/720x720/apps/$pkgname.png
    install -Dm 644 $srcdir/Icons/TBtoolsLogo16x16.png $pkgdir/usr/share/icons/hicolor/16x16/apps/$pkgname.png
}
